# Cloudflare Workers Configuration
# For deploying UIForge API to Cloudflare Workers

name = "api"
main = "dist/cloudflare-worker-simple.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# Module worker configuration
[build.upload]
format = "modules"

# Account ID (replace with your Cloudflare account ID)
# account_id = "your-account-id"

# Environment variables (set via wrangler secret put)
# - SUPABASE_URL
# - SUPABASE_ANON_KEY
# - GEMINI_API_KEY
# - FIGMA_ACCESS_TOKEN
# - FRONTEND_URL_PROD

# Development
[env.development]
vars = { NODE_ENV = "development" }

# Production
[env.production]
vars = { NODE_ENV = "production" }

# Bind secrets to environment variables
[vars]
# Secrets are automatically bound as environment variables

# Routes
# [[routes]]
# pattern = "api.uiforge.dev/*"
# zone_name = "uiforge.dev"

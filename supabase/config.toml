# Siza Webapp - Supabase Configuration
# Version: 0.1.1
# Created: 2026-02-15

# Project settings
project_id = "jrmwfxknuytojxdplsnq"

[api]
enabled = true
port = 54321
schemas = ["public", "storage"]
extra_search_path = ["public"]
max_rows = 1000

[db]
port = 54322
major_version = 17

[db.pooler]
enabled = false
port = 54329
pool_mode = "transaction"
default_pool_size = 20
max_client_conn = 100

[realtime]
enabled = true
ip_version = "IPv4"

[studio]
enabled = true
port = 54323
api_url = "http://127.0.0.1"

[inbucket]
enabled = true
port = 54324
smtp_port = 54325
pop3_port = 54326

[storage]
enabled = true
file_size_limit = "50MiB"
# Storage buckets are created via migrations

[storage.image_transformation]
enabled = true

[auth]
enabled = true
site_url = "https://siza.forgespace.co"
additional_redirect_urls = ["http://localhost:3000/**", "https://forgespace.co/**", "https://siza.forgespace.co/**", "https://dev.forgespace.co/**"]
jwt_expiry = 3600
enable_refresh_token_rotation = true
refresh_token_reuse_interval = 10
enable_signup = true

[auth.email]
enable_signup = true
double_confirm_changes = true
enable_confirmations = true

# Production SMTP via Resend (configure in Supabase Dashboard):
# Host: smtp.resend.com, Port: 587, User: resend, Pass: RESEND_API_KEY
# Local dev uses Inbucket (port 54324) by default
# [auth.email.smtp]
# host = "smtp.resend.com"
# port = 587
# user = "resend"
# pass = "env(RESEND_API_KEY)"
admin_email = "support@forgespace.co"
# sender_name = "Siza"

[auth.external.google]
enabled = true
client_id = "env(GOOGLE_CLIENT_ID)"
secret = "env(GOOGLE_CLIENT_SECRET)"
redirect_uri = "http://localhost:54321/auth/v1/callback"

[auth.external.github]
enabled = true
client_id = "env(GITHUB_CLIENT_ID)"
secret = "env(GITHUB_CLIENT_SECRET)"
redirect_uri = "http://localhost:54321/auth/v1/callback"

# [edge_functions]
# enabled = false
# Enable when needed for backend logic (commented out for CLI compatibility)
